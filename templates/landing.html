{% extends 'base.html' %}
{% block title %}Menz ‚Äì Luxury Wear{% endblock %}

{% block head_extra %}
<style>
    /* RESET & VARS */
    :root {
        --accent: #f5f200;
        --bg-dark: #0b0b0b;
        --card-bg: #111;
        --text-color: #fff;
    }

    .section-title-wrap {
        text-align: center;
        margin-bottom: 40px;
        position: relative;
        padding-top: 40px;
    }

    .section-title {
        color: #fff;
        font-size: 1.5rem;
        text-transform: uppercase;
        letter-spacing: 2px;
        display: inline-block;
        position: relative;
        padding-bottom: 10px;
        border-bottom: 2px solid #333;
    }

    /* 1. HERO SECTION */
    .hero-section {
        position: relative;
        text-align: center;
        padding: 80px 0 60px;
    }

    .hero-title {
        font-size: clamp(3rem, 10vw, 8rem);
        color: var(--accent);
        font-weight: 800;
        letter-spacing: 5px;
        line-height: 1;
        margin-bottom: -20px;
        /* Overlap effect */
        position: relative;
        z-index: 2;
        text-shadow: 0 10px 30px rgba(0, 0, 0, 0.8);
    }

    .hero-image-container {
        position: relative;
        max-width: 900px;
        margin: 0 auto;
        z-index: 1;
    }

    .hero-img {
        width: 100%;
        display: block;
        transform: rotate(-5deg);
        /* Slight tilt for dynamic feel if desired, or keep straight */
    }

    .cta-btn {
        background: var(--accent);
        color: #000;
        padding: 12px 30px;
        border-radius: 30px;
        font-weight: 700;
        text-decoration: none;
        display: inline-block;
        margin-top: 20px;
        font-size: 1rem;
        text-transform: uppercase;
    }

    /* 2. CATEGORIES (3 Columns) */
    .categories-grid {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 20px;
        max-width: 1000px;
        margin: 0 auto;
    }

    .cat-card {
        position: relative;
        border-radius: 8px;
        overflow: hidden;
        aspect-ratio: 1/1;
        /* Square */
    }

    .cat-card img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        transition: 0.5s;
    }

    .cat-card:hover img {
        transform: scale(1.1);
    }

    .cat-label {
        position: absolute;
        bottom: 0;
        left: 0;
        width: 100%;
        background: rgba(0, 0, 0, 0.7);
        padding: 10px;
        color: var(--accent);
        font-weight: 700;
        display: flex;
        justify-content: space-between;
        align-items: center;
    }

    /* 3. SHOPPERS (Menz Special Grid) */
    /* Center large, sides smaller or equal */
    .shoppers-grid {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 20px;
        align-items: center;
        max-width: 1000px;
        margin: 0 auto;
    }

    .shopper-card {
        position: relative;
    }

    .shopper-card img {
        width: 100%;
        display: block;
        border-radius: 4px;
    }

    /* The Center Card usually larger in design, or equal. 
       Let's scale the middle one slightly for effect. */
    .shopper-card.center {
        transform: scale(1.1);
        z-index: 2;
    }

    .menz-overlay {
        position: absolute;
        bottom: 10px;
        left: 0;
        width: 100%;
        text-align: center;
        color: var(--accent);
        font-weight: 900;
        font-size: 1.5rem;
        letter-spacing: 2px;
        text-transform: uppercase;
        text-shadow: 0 2px 4px #000;
    }

    /* 4. SOCIAL PROOF */
    .social-grid {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 20px;
        max-width: 1000px;
        margin: 0 auto;
    }

    .social-card {
        position: relative;
        aspect-ratio: 3/4;
    }

    .social-card img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        border-radius: 8px;
    }

    .play-icon {
        position: absolute;
        top: 10px;
        left: 10px;
        font-size: 20px;
        color: var(--accent);
    }

    /* 5. FOLLOW THE PATH (SVG) */
    .path-section {
        position: relative;
        padding: 60px 0;
        overflow: hidden;
        min-height: 400px;
    }

    .path-svg-container {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: 0;
    }

    /* Path buttons strictly positioned as per design */
    .step-btn {
        position: absolute;
        background: var(--accent);
        color: #000;
        padding: 10px 24px;
        border-radius: 8px;
        font-weight: 800;
        text-decoration: none;
        z-index: 2;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
    }

    .step-shopping {
        top: 60%;
        left: 10%;
    }

    .step-gifting {
        top: 40%;
        left: 45%;
    }

    .step-about {
        top: 20%;
        right: 10%;
    }

    /* Number indicators */
    .step-num {
        position: absolute;
        color: #fff;
        font-size: 2rem;
        font-family: cursive;
        /* or a handwritten font */
        z-index: 1;
    }

    .num-1 {
        top: 55%;
        left: 8%;
    }

    .num-2 {
        top: 35%;
        left: 42%;
    }

    .num-3 {
        top: 15%;
        right: 20%;
    }


    /* 6. TOP PRODUCTS GRID */
    .top-prod-grid {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 24px;
        max-width: 1000px;
        margin: 0 auto;
    }

    .prod-mini-card {
        background: #1a1a1a;
        border-radius: 6px;
        overflow: hidden;
        text-decoration: none;
    }

    .prod-mini-card img {
        width: 100%;
        aspect-ratio: 1/1;
        /* Square images */
        object-fit: cover;
    }

    .prod-mini-footer {
        padding: 10px;
        background: #222;
        color: var(--accent);
        display: flex;
        justify-content: space-between;
        font-size: 0.9rem;
        font-weight: 700;
    }

    /* 7. CONTACT SECTION (Yellow Block) */
    .contact-block {
        background: var(--accent);
        padding: 60px 20px;
        margin-top: 60px;
        color: #000;
    }

    .contact-container {
        max-width: 1000px;
        margin: 0 auto;
        display: grid;
        grid-template-columns: 1fr 1fr;
        /* Info | Form */
        gap: 40px;
        align-items: center;
    }

    .contact-title {
        font-size: 2.5rem;
        font-weight: 800;
        text-align: center;
        grid-column: 1 / -1;
        margin-bottom: 30px;
    }

    .info-list {
        display: flex;
        flex-direction: column;
        gap: 20px;
    }

    .info-row {
        display: flex;
        align-items: center;
        gap: 15px;
    }

    .info-icon {
        font-size: 1.5rem;
    }

    .info-text strong {
        display: block;
        font-size: 0.9rem;
    }

    .clean-form input,
    .clean-form textarea {
        width: 100%;
        background: #FFFFF0;
        /* Off-white */
        border: none;
        padding: 15px;
        margin-bottom: 15px;
        border-radius: 4px;
        font-family: inherit;
    }

    .clean-form button {
        background: #111;
        color: #fff;
        width: 100%;
        padding: 15px;
        border: none;
        font-weight: 700;
        text-transform: uppercase;
        letter-spacing: 1px;
        cursor: pointer;
    }

    /* RESPONSIVE */
    @media (max-width: 900px) {

        .categories-grid,
        .shoppers-grid,
        .social-grid,
        .top-prod-grid {
            grid-template-columns: repeat(2, 1fr);
        }

        .contact-container {
            grid-template-columns: 1fr;
        }

        .hero-title {
            font-size: 4rem;
        }
    }

    @media (max-width: 600px) {

        .categories-grid,
        .shoppers-grid,
        .social-grid,
        .top-prod-grid {
            grid-template-columns: 1fr;
        }

        .step-shopping {
            left: 5%;
        }

        .step-gifting {
            left: 30%;
        }

        .step-about {
            right: 5%;
        }
    }
</style>
{% endblock %}

{% block content %}

<!-- 1. HERO -->
<section class="hero-section">
    <div class="container">
        <h1 class="hero-title">Menz</h1>

        <div class="hero-image-container">
            <!-- Ensure we check for banner upload, else fallback default -->
            {% if banners and banners[0].image_url %}
            <img src="{{ banners[0].image_url }}" class="hero-img" alt="Hero Product">
            {% else %}
            <!-- Use a placeholder that matches the 'floating objects' vibe if available, or standard -->
            <img src="{{ url_for('static', filename='watch.png') }}" class="hero-img" alt="Hero Watch">
            {% endif %}
        </div>

        <a href="{{ url_for('shopping') }}" class="cta-btn">Collections</a>
    </div>
</section>

<!-- 2. CATEGORIES -->
<section class="container">
    <div class="section-title-wrap">
        <div class="section-title">Categories</div>
    </div>

    <div class="categories-grid">
        {% if categories %}
        {% for c in categories[:3] %}
        <a href="{{ url_for('shopping') }}?q={{ c.name }}" class="cat-card">
            <img src="{{ c.image_url }}" alt="{{ c.name }}">
            <div class="cat-label">
                <span>{{ c.name }}</span>
                <span>‚Üí</span>
            </div>
        </a>
        {% endfor %}
        {% else %}
        <!-- Mockup Placeholders -->
        <div class="cat-card"><img src="{{ url_for('static', filename='no_image.png') }}">
            <div class="cat-label"><span>Rings</span><span>‚Üí</span></div>
        </div>
        <div class="cat-card"><img src="{{ url_for('static', filename='no_image.png') }}">
            <div class="cat-label"><span>Watches</span><span>‚Üí</span></div>
        </div>
        <div class="cat-card"><img src="{{ url_for('static', filename='no_image.png') }}">
            <div class="cat-label"><span>Bracelets</span><span>‚Üí</span></div>
        </div>
        {% endif %}
    </div>
</section>

<!-- 3. SHOPPERS -->
<section class="container" style="margin-top:60px;">
    <div class="section-title-wrap">
        <div class="section-title">Shoppers</div>
    </div>
    <div class="shoppers-grid">
        {% if shoppers %}
        {% for s in shoppers[:3] %}
        <a href="{{ url_for('product_page', product_id=s._id) }}"
            class="shopper-card {{ 'center' if loop.index == 2 }}">
            <img src="{{ s.image_url }}" alt="Shopper">
            <div class="menz-overlay">MENZ</div>
        </a>
        {% endfor %}
        {% else %}
        <div class="shopper-card"><img src="{{ url_for('static', filename='no_image.png') }}">
            <div class="menz-overlay">MENZ</div>
        </div>
        <div class="shopper-card center"><img src="{{ url_for('static', filename='no_image.png') }}">
            <div class="menz-overlay">MENZ</div>
        </div>
        <div class="shopper-card"><img src="{{ url_for('static', filename='no_image.png') }}">
            <div class="menz-overlay">MENZ</div>
        </div>
        {% endif %}
    </div>
</section>

<!-- 4. SOCIAL PROOF -->
<section class="container" style="margin-top:60px;">
    <div class="section-title-wrap">
        <div class="section-title">Social Proof</div>
    </div>
    <div class="social-grid">
        {% if social_proofs %}
        {% for s in social_proofs[:3] %}
        <div class="social-card">
            <img src="{{ s }}">
            <div class="play-icon">‚ñ∂</div>
        </div>
        {% endfor %}
        {% else %}
        <div class="social-card"><img src="{{ url_for('static', filename='no_image.png') }}">
            <div class="play-icon">‚ñ∂</div>
        </div>
        <div class="social-card"><img src="{{ url_for('static', filename='no_image.png') }}">
            <div class="play-icon">‚ñ∂</div>
        </div>
        <div class="social-card"><img src="{{ url_for('static', filename='no_image.png') }}">
            <div class="play-icon">‚ñ∂</div>
        </div>
        {% endif %}
    </div>
</section>

<!-- 5. FOLLOW THE PATH -->
<section class="path-section">
    <div class="section-title-wrap">
        <div class="section-title">Follow the Path</div>
    </div>

    <div class="container" style="position:relative; height: 300px;">
        <svg class="path-svg-container" viewBox="0 0 1000 300" preserveAspectRatio="none">
            <path d="M50,250 C250,250 250,150 500,150 C750,150 750,50 950,50" fill="none" stroke="#fff" stroke-width="2"
                stroke-dasharray="10,10" opacity="0.5" />
        </svg>

        <div class="step-num num-1">1</div>
        <a href="{{ url_for('shopping') }}" class="step-btn step-shopping">Shopping ‚Üí</a>

        <div class="step-num num-2">2</div>
        <a href="{{ url_for('gifting') }}" class="step-btn step-gifting">Gifting ‚Üí</a>

        <div class="step-num num-3">3</div>
        <a href="{{ url_for('about') }}" class="step-btn step-about">About Us ‚Üí</a>
    </div>
</section>

<!-- 6. TOP PRODUCTS -->
<section class="container">
    <div class="section-title-wrap">
        <div class="section-title">Top Products</div>
    </div>
    <div class="top-prod-grid">
        {% for p in products[:3] %}
        <a href="{{ url_for('product_page', product_id=p._id) }}" class="prod-mini-card">
            {% if p.image_filename %}
            <img src="{{ url_for('uploaded_file', filename=p.image_filename) }}" alt="{{ p.name }}">
            {% else %}
            <img src="{{ url_for('static', filename='no_image.png') }}" alt="{{ p.name }}">
            {% endif %}
            <div class="prod-mini-footer">
                <span>{{ p.name }}</span>
                <span>‚Üí</span>
            </div>
        </a>
        {% endfor %}
    </div>
</section>

<!-- 7. CONTACT -->
<section class="contact-block">
    <div class="contact-container">
        <div class="contact-title">Contact Us</div>

        <div class="info-list">
            <div class="info-row">
                <div class="info-icon">üìû</div>
                <div class="info-text">
                    <strong>Call</strong>
                    <div>+91 9842614547</div>
                </div>
            </div>
            <div class="info-row">
                <div class="info-icon">‚úâÔ∏è</div>
                <div class="info-text">
                    <strong>Email</strong>
                    <div>menz@gmail.com</div>
                </div>
            </div>
            <div class="info-row">
                <div class="info-icon">üìç</div>
                <div class="info-text">
                    <strong>Location</strong>
                    <div>Hyderabad, India</div>
                </div>
            </div>
        </div>

        <form action="{{ url_for('contact') }}" method="post" class="clean-form">
            <input type="text" name="name" placeholder="Name" required>
            <input type="email" name="email" placeholder="Email Address" required>
            <textarea name="message" rows="3" placeholder="Message" required></textarea>
            <button type="submit">SEND NOW</button>
        </form>
    </div>
</section>

{% endblock %}